#include <stdio.h>
#include<conio.h>
#include <iostream.h>
#include<windows.h>
#include<mysql.h>
#include<string.h>

MYSQL *oo;
MYSQL_RES *read=NULL;
MYSQL_RES *res=NULL;
MYSQL_ROW row=NULL;

char* login(int id, char pwd[25])
{
	char stmt[1500];
	char qry[]={"select * from login_details where username='%d'"};
	oo=mysql_init(NULL);
	mysql_real_connect(oo, "localhost", "root", "1234","database", 3306, NULL, 0);
	if(oo)
    {
    	
        int n=sprintf(stmt,qry,id,pwd);
        mysql_query(oo,stmt);
        read=mysql_store_result(oo);
        row = mysql_fetch_row(read);
        if(row==NULL)
        {
        	return "\nWrong username or password\n\n\n\n\n";
        	
		}
		else
		{
		if(strcmp("I",row[3])==0)
		{
			
			return "\nUser is deactivated\n\n\n\n\n\n";
		}
		else
		{
			cout<<"\nSuccessfully logged in \n\n\n\n\n\n\n\n\n";
			return row[2];
			
		}
		}
	}
    else
    {
        cout << "("not connected")\n ";;
        cout<< "("%s\n", mysql_error(oo))";
    }
    
    still writing
